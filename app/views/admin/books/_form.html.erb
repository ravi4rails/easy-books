<%= form_with(model: [:admin, book], html: {id: "admin_book"} ) do |form| %>
  <% if book.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(book.errors.count, "error") %> prohibited this book from being saved:</h2>

      <ul>
      <% book.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="form-group pl-4 pr-4">
    <%= form.label :name %>
    <%= form.text_field :name, id: :book_name, class: "form-control", placeholder: "Name" %>
  </div>

  <div class="form-group pl-4 pr-4">
    <%= form.label :price %>
    <%= form.number_field :price, id: :book_price, class: "form-control", placeholder: "Price" %>
  </div>

  <div class="form-group pl-4 pr-4">
    <%= form.label :detail %>
    <%= form.text_area :detail, id: :book_detail, rows: 5, class: "form-control", placeholder: "Detail"%>
  </div>

  <div class="form-group pl-4 pr-4">
    <%= form.label :keyword_list %>
    <%= form.text_field :keyword_list, placeholder: "Comma saperated tags", value: book.keyword_list.map {|tg| tg }.join(","), class: "form-control" %>
  </div>

  <div class="form-group pl-4 pr-4">
    <%= form.label :front_cover_image %><br>
    <%= form.file_field :front_cover_image, id: :book_front_cover_image %>
  </div>

  <div class="form-group pl-4 pr-4">
    <%= form.label :back_cover_image %><br>
    <%= form.file_field :back_cover_image, id: :book_back_cover_image %>
  </div>

  <div class="form-group pl-4 pr-4">
    <%= form.label :book_category_id %>
    <%= form.select :book_category_id, options_for_select(BookCategory.all.map{|c| [c.name, c.id]}, form.object.book_category_id), {}, {class: "form-control"} %>
  </div>

  <div class="actions form-group pl-4 pr-4 mt-4">
    <%= form.submit class: "btn btn-primary" %>
  </div>
<% end %>
